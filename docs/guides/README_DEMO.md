# üéØ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏!

## ‚úÖ –ß—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å **–≤—Å–µ –¥—Ä–∞—Ñ—Ç—ã** —á–µ—Ä–µ–∑ `GET /api/beam_deflections?status=draft`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–ª–æ—Å—å 1 —ç–ª–µ–º–µ–Ω—Ç –≤–º–µ—Å—Ç–æ 20)
- ‚úÖ –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï –≤–∏–¥—è—Ç —á—É–∂–∏–µ –¥—Ä–∞—Ñ—Ç—ã
- ‚úÖ JWT blacklist –≤ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Redis —Å–æ–¥–µ—Ä–∂–∏—Ç blacklist —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—Å–µ endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

1. **DEMO_READY.md** ‚≠ê - –ß–µ–∫–ª–∏—Å—Ç –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
2. **DEMO_GUIDE.md** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö 15 —à–∞–≥–æ–≤
3. **INSOMNIA_GUIDE.md** üöÄ - –ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Insomnia/Postman
4. **QUICK_DEMO_COMMANDS.md** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
5. **Insomnia_Collection.json** - –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
6. **prepare_demo.rb** - –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ù–∞—á–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **DEMO_GUIDE.md** - —Ç–∞–º —Ä–∞—Å–ø–∏—Å–∞–Ω—ã –≤—Å–µ 15 —à–∞–≥–æ–≤ —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏ –Ω–æ–º–µ—Ä–∞–º–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ **DEMO_READY.md**
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
3. –í—Å–µ –≥–æ—Ç–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –∫–æ–º–∞–Ω–¥—ã —É–∂–µ —Ç–∞–º

### –í–∞—Ä–∏–∞–Ω—Ç 3: Insomnia/Postman (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)
1. –û—Ç–∫—Ä–æ–π—Ç–µ **INSOMNIA_GUIDE.md** üöÄ - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ **Insomnia_Collection.json** (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –≥–∞–π–¥–µ)
3. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ requests –ø–æ –ø–æ—Ä—è–¥–∫—É (1‚Üí2‚Üí3‚Üí...‚Üí10)
4. –í—Å–µ —Ç–æ–∫–µ–Ω—ã —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
5. 8 —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –¥–ª—è –¢–ó –æ–ø–∏—Å–∞–Ω—ã –≤ –≥–∞–π–¥–µ

---

## üë• –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```
–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
  Email: user@demo.com
  Password: password123

–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä:
  Email: moderator@demo.com
  Password: password123
```

---

## üîë –ì–æ—Ç–æ–≤—ã–µ JWT —Ç–æ–∫–µ–Ω—ã (24 —á–∞—Å–∞)

**User:**
```
eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjozOSwiZXhwIjoxNzY0NTI5NTUwfQ.h61r9z0Rud3pyUVrYoNrO88wr-xf6Vq8Z8iJN1FFQV4
```

**Moderator:**
```
eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0MCwiZXhwIjoxNzY0NTI5NTUwfQ.74Ud9dJZ1pPFzydT-yMWA-o5eqH0nOYmNlKiVtZJLl0
```

---

## üåê URLs

- **Swagger UI**: http://localhost:3000/api-docs
- **Web UI**: http://localhost:3000
- **API**: http://localhost:3000/api

---

## üìä –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

- **Formed Request ID** –¥–ª—è completion: `52`
- **Draft Requests**: 4 —à—Ç—É–∫–∏ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Beams**: 2 —à—Ç—É–∫–∏ (Wooden, Steel)

---

## üé¨ –ü–æ—Ä—è–¥–æ–∫ –ø–æ–∫–∞–∑–∞ (–∫—Ä–∞—Ç–∫–æ)

1. **Swagger**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)
2. **Swagger**: GET —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
3. **Browser**: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å JWT –∏–∑ Response
4. **Insomnia**: GET –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí 401
5. **Insomnia**: GET —Å user ‚Üí —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏
6. **Insomnia**: PUT complete —Å user ‚Üí 403
7. **Insomnia**: –í–æ–π—Ç–∏ –∫–∞–∫ moderator
8. **Insomnia**: PUT complete —Å moderator ‚Üí 200 ‚úÖ
9. **Insomnia**: GET –≤—Å–µ –∑–∞—è–≤–∫–∏ (moderator)
10. **Insomnia**: GET –≤—Å–µ –¥—Ä–∞—Ñ—Ç—ã (moderator) ‚ú® **–ù–û–í–û–ï**
11. **CMD**: Redis blacklist –∫–ª—é—á–∏
12. **Insomnia**: Sign out (—Å–æ–∑–¥–∞—Ç—å blacklist)
13. **CMD**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á
14. **Insomnia**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å blacklisted —Ç–æ–∫–µ–Ω ‚Üí 401
15. **CMD**: TTL –∫–ª—é—á–∞

---

## üîç –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Redis
```bash
# –í—Å–µ blacklist –∫–ª—é—á–∏
docker-compose exec redis redis-cli KEYS "jwt:blacklist:*"

# TTL –∫–ª—é—á–∞
docker-compose exec redis redis-cli TTL "jwt:blacklist:<hash>"
```

### Rails
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
docker-compose exec web bin/rails runner prepare_demo.rb

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
docker-compose exec web bin/rails runner "
puts 'Drafts: ' + BeamDeflection.draft.count.to_s
"
```

---

## ‚ú® –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –≤—Å–µ –¥—Ä–∞—Ñ—Ç—ã

**Endpoint:**
```
GET /api/beam_deflections?status=draft
Authorization: Bearer <moderator_token>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- HTTP 200 OK
- –í—Å–µ –¥—Ä–∞—Ñ—Ç—ã –æ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –ø–∞–≥–∏–Ω–∞—Ü–∏—é (20 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï –≤–∏–¥—è—Ç —á—É–∂–∏–µ –¥—Ä–∞—Ñ—Ç—ã
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞

---

## üì∏ 15 –°–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –¥–ª—è –¢–ó 2025

–í—Å–µ –æ–ø–∏—Å–∞–Ω—ã –≤ **DEMO_GUIDE.md** —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:

1-3: Swagger –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
4-6: Insomnia - –¥–æ—Å—Ç—É–ø –≥–æ—Å—Ç—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
7-9: Insomnia - –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –∏ **–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥—Ä–∞—Ñ—Ç–æ–≤** ‚ú®
10-15: Redis blacklist –∏ JWT

---

## ‚ö° –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

```
‚úì GET /api/beam_deflections (no auth) ‚Üí 401
‚úì GET /api/beam_deflections (user) ‚Üí 200 (2 requests)
‚úì GET /api/beam_deflections?status=draft (moderator) ‚Üí 200 (4 drafts)
‚ú® NEW FEATURE WORKING!
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **DEMO_READY.md** –¥–ª—è —á–µ–∫–ª–∏—Å—Ç–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ **DEMO_GUIDE.md** –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ **Insomnia_Collection.json**
4. –ù–∞—á–∏–Ω–∞–π—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é! üöÄ

---

**–í—Å–µ –≥–æ—Ç–æ–≤–æ! –£–¥–∞—á–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏! üéâ**
